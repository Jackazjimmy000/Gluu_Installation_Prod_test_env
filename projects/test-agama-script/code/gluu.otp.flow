Flow __________
     Basepath ""
     Timeout 100 seconds
     Inputs salutation
// Create Auth Service Instance
authService = Call io.jans.as.server.service.AuthenticationService#class 
// Init CDIUtil Object
cdiUtil = Call io.jans.service.cdi.util.CdiUtil#bean authService
// Declared Empty result Object
authResult = "{}"
// Retry 3 times if username&password are wrong
Repeat 3 times max
     // Load the login page to ask for username&password
     creds = RRF "login.ftlh" authResult
     // Validate / check username password
     authResult.success = Call cdiUtil authenticate creds.username creds.password
     // keep username in case auth failed, for retry
     authResult.uid = "creds.username"
     // check auth result is true
     When authResult.success is true
          // End flow by returning authResult.uid
          it_gzmst = { success: true, data: { userId: "as9233Qz" } }
          Finish it_gzmst
// Auth failed after 3 retries, end flow by returning false
it_bporo = false
Finish it_bporo